import getPartYear from './getPartYear';
import get12Hours from './get12Hours';
import pad from '../pad';
let chineseWeek = ['日', '一', '二', '三', '四', '五', '六'];
export default function dateFormat(date, pattern) {
  function replacer(patternPart, result) {
    pattern = pattern.replace(patternPart, result);
  }

  let year = date.getFullYear();
  let partYear = getPartYear(date);
  let month = date.getMonth() + 1;
  let dayOfMonth = date.getDate();
  let hours = date.getHours();
  let h12 = get12Hours(date);
  let minutes = date.getMinutes();
  let seconds = date.getSeconds();
  let dayOfWeek = date.getDay();
  replacer(/yyyy/g, year);
  replacer(/yy/g, partYear);
  replacer(/mm/g, pad(month, 2));
  replacer(/m/g, month);
  replacer(/dd/g, pad(dayOfMonth, 2));
  replacer(/d/g, dayOfMonth);
  replacer(/HH/g, pad(hours, 2));
  replacer(/H/g, hours);
  replacer(/hh/g, pad(h12, 2));
  replacer(/h/g, h12);
  replacer(/MM/g, pad(minutes, 2));
  replacer(/M/g, minutes);
  replacer(/ss/g, pad(seconds, 2));
  replacer(/s/g, seconds);
  replacer(/w/g, chineseWeek[dayOfWeek]);
  return pattern;
}